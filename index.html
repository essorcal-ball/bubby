<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Game Hub</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white flex flex-col items-center justify-center min-h-screen">

  <h1 class="text-5xl font-bold text-pink-500 mb-8">Arcade Hub</h1>

  <!-- Login / Account -->
  <div id="login-section" class="bg-gray-800 p-6 rounded-lg shadow-lg mb-8">
    <input id="username" type="text" placeholder="Username" class="p-2 rounded text-black mb-2 w-full">
    <input id="password" type="password" placeholder="Password" class="p-2 rounded text-black mb-2 w-full">
    <button onclick="createAccount()" class="bg-green-600 px-4 py-2 rounded mr-2">Create Account</button>
    <button onclick="loginAccount()" class="bg-blue-600 px-4 py-2 rounded">Login</button>
  </div>

  <!-- Account Bar -->
  <div id="account-bar" class="hidden bg-gray-700 p-4 rounded-lg mb-8">
    Logged in as: <span id="current-user"></span> |
    Coins: <span id="coin-count">0</span> |
    High Score (Stickman): <span id="stickman-score">0</span>
    <button onclick="logout()" class="bg-red-600 px-3 py-1 rounded ml-4">Logout</button>
  </div>

  <!-- Game Selection -->
  <div id="game-menu" class="hidden flex flex-col space-y-4">
    <!-- FIXED LINK: must match stickman.html filename -->
    <a href="./stickman.html" class="bg-purple-600 px-6 py-3 rounded-lg text-center hover:bg-purple-700">Play Stickman Jumper</a>
    <a href="./newgame.html" class="bg-yellow-600 px-6 py-3 rounded-lg text-center hover:bg-yellow-700">Play New Game (Coming Soon)</a>
  </div>

<script>
function getUserData(username) {
  const data = localStorage.getItem("arcadeUser_" + username);
  return data ? JSON.parse(data) : null;
}
function saveUserData(username, data) {
  localStorage.setItem("arcadeUser_" + username, JSON.stringify(data));
}

let currentUser = null;

function createAccount() {
  const u = document.getElementById("username").value.trim();
  const p = document.getElementById("password").value.trim();
  if (!u || !p) { alert("Fill all fields"); return; }
  if (getUserData(u)) { alert("User exists"); return; }
  const newUser = { password:p, coins:0, highScoreStickman:0 };
  saveUserData(u,newUser);
  alert("Account created! Please login.");
}
function loginAccount() {
  const u = document.getElementById("username").value.trim();
  const p = document.getElementById("password").value.trim();
  const data = getUserData(u);
  if (!data) { alert("No account"); return; }
  if (data.password !== p) { alert("Wrong password"); return; }
  currentUser = u;
  localStorage.setItem("arcadeCurrentUser", u);
  document.getElementById("current-user").textContent = u;
  document.getElementById("coin-count").textContent = data.coins;
  document.getElementById("stickman-score").textContent = data.highScoreStickman;
  document.getElementById("account-bar").classList.remove("hidden");
  document.getElementById("game-menu").classList.remove("hidden");
}
function logout() {
  currentUser = null;
  localStorage.removeItem("arcadeCurrentUser");
  document.getElementById("account-bar").classList.add("hidden");
  document.getElementById("game-menu").classList.add("hidden");
}
</script>
</body>
</html>
